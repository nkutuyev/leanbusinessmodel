@(requestUser: models.LeanSocialUser, loginForm: Form[(String,String)], signupForm: Form[String], errorMsg: Option[String] = None)(implicit request: RequestHeader)

@import helper._
@implicitFieldConstructor = @{ FieldConstructor(views.html.inputFieldConstructor.f) }

@main(title = "Welcome", leanUser = requestUser) {
	
<div class="content-container">
				
	<!--  Reset password modal -->
	<div id="reset-password-modal" class="modal fade" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="modalLabel">Reset Password</h4>
	      </div>
	      <form class="form-horizontal" role="form" action="/reset" method="POST">
		  		<fieldset>
			      <div class="modal-body">
			        <input type="email" class="form-control" name="email" placeholder="Enter Email"></input>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
			        <button type="submit" class="btn btn-success">Reset Password</button>
			      </div>
	      		</fieldset>
			</form>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	
	<div class="jumbotron">
		@request.flash.get("success").map { msg =>
			<div id="alert-panel" class="alert alert-success">
				@msg. <a id="alert-remove" href="" class="alert-success"><span class="glyphicon glyphicon-remove"></span> </a>
			</div>
	    }
	
	    @request.flash.get("error").map { msg =>
			<div id="alert-panel" class="alert alert-danger">
				@msg <a id="alert-remove" href="" class="alert-danger"><span class="glyphicon glyphicon-remove"></span> </a>
			</div>
	    }
	    
	    @if(!errorMsg.isEmpty) {
			<div id="alert-panel" class="alert alert-danger">
				@Messages(errorMsg.get) <a id="alert-remove" href="" class="alert-danger"><span class="glyphicon glyphicon-remove"></span> </a>
			</div>
	    }
	    <script type="text/javascript">
			if($("#alert-panel")){
				$("#alert-remove").on( "click", function(event) {
					event.preventDefault();
				    lbm.clearAlert();
				    return false;
				});
			};
		</script>
	    <p>
			<h3>
				Welcome to Lean Business Modeling <small> Learn what works for you</small>
			</h3>
		</p>
		<p>
			Lean Business Model is an experimental project based on ideas generated by <strong>Lean Start-Up</strong> community. 
		   	This site is designed to provide a set of tools facilitating rapid business model development and testing.
		</p>
		<p>
			You can quickly sketch your business ideas, evaluate your hypothesis, adjust and pivot, while being able to track
			evolution of your ideas and easily move between various versions of your models. You can organize your models
			around multiple projects or as versions of the same model, which will provide maximum flexibility in how 
			you want to organize your evaluation cycle.
		</p>
		<p>
		   	It is free, easy to use and total fun. Enjoy!
		</p>
		<div class="row" id="form-panel">
			<div class="col-md-5">
				<div class="panel panel-success">
					<div class="panel-heading">
						<h4>Existing Users</h4>
					</div>
					<div class="panel-body">
						<form class="form-horizontal" role="form" action="/authenticate/userpass" method="POST">
							<fieldset>
								@helper.inputText(
						            loginForm("username"),
						            'type -> "email",
									'placeholder -> "Enter Email",
						            'class -> "form-control"
					            )
								@helper.inputPassword(
						            loginForm("password"),
									'placeholder -> "Enter Password",
						            'class -> "form-control"
					            )
								<button type="submit" class="btn btn-success">Login</button>
							</fieldset>
						</form>
					</div>
					<div class="panel-footer">
						<h5>Forgot your password? Click to <a href="#reset-password-modal" data-toggle="modal" class="help-inline text-danger">Reset</a> it.</h5>
					</div>
				</div>
			</div>
			<div class="col-md-5">
				<div class="panel panel-info">
					<div class="panel-heading">
						<h4>New Users</h4>
					</div>
					<div class="panel-body">
						<form action="/signup" class="form-horizontal" role="form" method="POST">
							<fieldset>
								@helper.inputText(
						            signupForm("email"),
						            'type -> "email",
									'placeholder -> "Enter Email",
						            'class -> "form-control"
					            )
								<button type="submit" class="btn btn-info">Sign Up</button>
							</fieldset>
						</form>
					</div>
				</div>
			</div>
			<div class="col-md-2"></div>
		</div>
	</div>
</div>

}
